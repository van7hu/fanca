<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<title>Dr. Memory: Dr. Memory Runtime Option Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Dr. Memory
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page_options.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Dr. Memory Runtime Option Reference </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"> 
<table width=100% bgcolor="#000000" cellspacing=0 cellpadding=2 border=0>
  <tr><td><table width=100% bgcolor="#0000C0" cellspacing=0 cellpadding=1 border=0>
  <tr><td><table width=100% bgcolor="#0000C0" cellspacing=0 cellpadding=1 border=0>
  <tr><td></td></tr></table></td></tr></table></td></tr></table>
<p>Dr. Memory's behavior can be controlled through options passed to drmemory prior to the "--" delimiter. Boolean options can be disabled using a "-no_" prefix. Here is a list of options along with their default values and descriptions:</p>
<ul>
<li><b> -version </b> <br/>
<em>default: false</em> <br/>
Display Dr. Memory version</li>
</ul>
<ul>
<li><b> -help </b> <br/>
<em>default: false</em> <br/>
Display the full option list</li>
</ul>
<ul>
<li><b> -dr </b> &lt;string&gt; <br/>
<em>default: ""</em> <br/>
The path to the DynamoRIO installation to use. Not needed when using a released Dr. Memory package.</li>
</ul>
<ul>
<li><b> -drmemory </b> &lt;string&gt; <br/>
<em>default: ""</em> <br/>
The path to the base of the Dr. Memory installation. Not needed when invoking Dr. Memory from an unmodified installation tree.</li>
</ul>
<ul>
<li><b> -top_stats </b> <br/>
<em>default: false</em> <br/>
Primarily for use by developers of the tool. Shows time taken and memory usage of the whole process at the end of the run</li>
</ul>
<ul>
<li><b> -fetch_symbols </b> <br/>
<em>default: false</em> <br/>
Fetch missing symbol files at the end of the run. While fetching of arbitrary symbols is off by default, auto-fetching of C library symbols is enabled unless -no_fetch_symbols is explicitly requested.</li>
</ul>
<ul>
<li><b> -follow_children </b> <br/>
<em>default: true</em> <br/>
Monitor child processes by following across execve on Linux or CreateProcess on Windows. On Linux, monitoring always continues across a fork.</li>
</ul>
<ul>
<li><b> -nudge </b> &lt;int&gt; <br/>
<em>default: 0 (minimum: 0, maximum: UINT_MAX)</em> <br/>
Use this option to 'nudge' an already-running process in order to request leak checking and other Dr. Memory actions that normally only occur when the process exits. Not currently available on MacOS.</li>
</ul>
<ul>
<li><b> -v </b> <br/>
<em>default: false</em> <br/>
Display verbose information in the Dr. Memory front end</li>
</ul>
<ul>
<li><b> -light </b> <br/>
<em>default: false</em> <br/>
This option enables a lightweight mode that detects unaddressable accesses, free/delete/delete[] mismatches, and GDI API usage errors in Windows, but not uninitialized reads or memory leaks.</li>
</ul>
<ul>
<li><b> -brief </b> <br/>
<em>default: false</em> <br/>
Show simplified and easier-to-read error reports that hide STL and CRT source paths, remove executable path prefixes from source files, omit absolute addresses, omit instruction disassembly, and omit thread timestamps. Also enables -delay_frees_stack and disables -callstack_use_top_fp, trading off performance for better error reports.</li>
</ul>
<ul>
<li><b> -visual_studio </b> <br/>
<em>default: false</em> <br/>
Produce output suitable for a Visual Studio external tool. Enables -prefix_style 2, -callstack_style 0x820, -batch, and -brief. Windows-only.</li>
</ul>
<ul>
<li><b> -logdir </b> &lt;string&gt; <br/>
<em>default: "&lt;install&gt;/logs"</em> <br/>
Destination base directory for result files and the symbol cache (unless -symcache_dir is specified). A subdirectory inside this base directory is created for each process that is run, along with a single shared symbol cache directory. If you specify a separate base directory for every run, you will lose the benefits of symbol caching, unless you also specify a separate shared cache directory with the -symcache_dir option.</li>
</ul>
<ul>
<li><b> -verbose </b> &lt;int&gt; <br/>
<em>default: 1 (minimum: 0, maximum: 32)</em> <br/>
Verbosity level in log files: 0=none, 1=warnings, 2+=diagnostic. Primarily for debugging of Dr. Memory itself.</li>
</ul>
<ul>
<li><b> -quiet </b> <br/>
<em>default: false</em> <br/>
Suppress stderr messages and, on Windows, popup messages. Overrides -results_to_stderr and -summary.</li>
</ul>
<ul>
<li><b> -results_to_stderr </b> <br/>
<em>default: true</em> <br/>
Print error reports to stderr in addition to results.txt, interleaving them with the application output. The output will be prefixed by ~~Dr.M~~ for the main thread and by the thread id for other threads. This interleaving can make it easier to see which part of an application run raised an error.</li>
</ul>
<ul>
<li><b> -prefix_style </b> &lt;int&gt; <br/>
<em>default: 0 (minimum: 0, maximum: 2)</em> <br/>
For -results_to_stderr, controls the per-line prefix: <ul>
<li>
0 = Default prefix: ~~Dr.M~~ for the main thread and the thread id for other threads. </li>
<li>
1 = No prefix. </li>
<li>
2 = Use blank spaces. This makes the output compatible with Visual Studio file and line number parsing. </li>
</ul>
</li>
</ul>
<ul>
<li><b> -log_suppressed_errors </b> <br/>
<em>default: false</em> <br/>
Log suppressed error reports for postprocessing. Enabling this option will increase the logfile size, but will allow users to re-process suppressed reports with alternate suppressions or additional symbols.</li>
</ul>
<ul>
<li><b> -ignore_asserts </b> <br/>
<em>default: false</em> <br/>
Display, but do not abort, on asserts in debug build (in release build asserts are automatically disabled).</li>
</ul>
<ul>
<li><b> -exit_code_if_errors </b> &lt;int&gt; <br/>
<em>default: 0 (minimum: INT_MIN, maximum: INT_MAX)</em> <br/>
If non-zero, the app's exit code is changed to this code if any errors are found.</li>
</ul>
<ul>
<li><b> -pause_at_error </b> <br/>
<em>default: false</em> <br/>
Dr. Memory pauses at the point of each error that is identified. On Windows, this pause is a popup window. On Linux, the pause involves waiting for a keystroke, which may not work well if the application reads from stdin. In that case consider -pause_via_loop as an additional option.</li>
</ul>
<ul>
<li><b> -pause_at_unaddressable </b> <br/>
<em>default: false</em> <br/>
Dr. Memory pauses at the point of each unaddressable access error that is identified. On Windows, this pause is a popup window. On Linux, the pause involves waiting for a keystroke, which may not work well if the application reads from stdin. In that case consider -pause_via_loop as an additional option.</li>
</ul>
<ul>
<li><b> -pause_at_uninitialized </b> <br/>
<em>default: false</em> <br/>
Identical to -pause_at_unaddressable, but applies to uninitialized access errors.</li>
</ul>
<ul>
<li><b> -pause_at_exit </b> <br/>
<em>default: false</em> <br/>
Pauses at exit, using the same mechanism described in -pause_at_unaddressable. Meant for examining leaks in the debugger.</li>
</ul>
<ul>
<li><b> -pause_at_assert </b> <br/>
<em>default: false</em> <br/>
Dr. Memory pauses at the point of each debug-build assert. On Windows, this pause is a popup window. On Linux, the pause involves waiting for a keystroke, which may not work well if the application reads from stdin. In that case consider -pause_via_loop as an additional option.</li>
</ul>
<ul>
<li><b> -pause_via_loop </b> <br/>
<em>default: false</em> <br/>
Used in conjunction with -pause_at_uninitialized and -pause_at_uninitialized on Linux, this option causes Dr. Memory to pause via an infinite loop instead of waiting for stdin. Dr. Memory will not continue beyond the first such error found.</li>
</ul>
<ul>
<li><b> -crash_at_unaddressable </b> <br/>
<em>default: false</em> <br/>
Dr. Memory terminates the process in a crash at the point of the first unaddressable access error that is identified.</li>
</ul>
<ul>
<li><b> -crash_at_error </b> <br/>
<em>default: false</em> <br/>
Dr. Memory terminates the process in a crash at the point of the first error that is identified.</li>
</ul>
<ul>
<li><b> -dump_at_error_mask </b> &lt;int&gt; <br/>
<em>default: 0 (minimum: 0, maximum: 0x2f)</em> <br/>
At each reported unique error selected by the mask value, a memory dump file is created. This option is a work-in-progress and is currently experimental, using the DynamoRIO livedump format which is not yet publicly documented. The mask takes the following bitfields: <ul>
<li>
0x0001 = unaddressable access </li>
<li>
0x0002 = uninitialized read </li>
<li>
0x0004 = invalid heap argument </li>
<li>
0x0008 = GDI usage error </li>
<li>
0x0020 = warning </li>
</ul>
</li>
</ul>
<ul>
<li><b> -dump_at_unaddressable </b> <br/>
<em>default: false</em> <br/>
Equivalent to -dump_at_error_mask 1.</li>
</ul>
<ul>
<li><b> -callstack_max_frames </b> &lt;int&gt; <br/>
<em>default: 20 (minimum: 0, maximum: 4096)</em> <br/>
How many call stack frames to record for each non-leak error report. A larger maximum will ensure that no call stack is truncated, but can use more memory and slow down the tool if there are many error reports with large callstacks. This option must be larger than the largest suppression supplied to -suppress. The separate option -malloc_max_frames controls the callstack size for leak reports, while -free_max_frames controls the callstack size for freed memory overlap reports from -delay_frees_stack.</li>
</ul>
<ul>
<li><b> -malloc_max_frames </b> &lt;int&gt; <br/>
<em>default: 12 (minimum: 0, maximum: 4096)</em> <br/>
How many call stack frames to record on each malloc, for use in leak error reports as well as alloc/free mismatch error reports. A larger maximum will ensure that no call stack is truncated, but can use more memory and slow down the tool.</li>
</ul>
<ul>
<li><b> -free_max_frames </b> &lt;int&gt; <br/>
<em>default: 6 (minimum: 0, maximum: 4096)</em> <br/>
If -delay_frees_stack is enabled, this controls how many call stack frames to record for each use-after-free informational report. A larger maximum will ensure that no call stack is truncated, but can use more memory and slow down the tool.</li>
</ul>
<ul>
<li><b> -callstack_style </b> &lt;int&gt; <br/>
<em>default: 0x0301 (minimum: 0, maximum: 0x1fff)</em> <br/>
Set of flags that controls the callstack printing style: <ul>
<li>
0x0001 = show frame numbers </li>
<li>
0x0002 = show absolute address </li>
<li>
0x0004 = show offset from library base </li>
<li>
0x0008 = show offset from symbol start: "library!symbol+offs" </li>
<li>
0x0010 = show offset from line start: "foo.c:44+0x8" </li>
<li>
0x0020 = "file:line" on separate line </li>
<li>
0x0040 = "file @ line" instead of "file:line" </li>
<li>
0x0080 = "symbol library" instead of "library!symbol" </li>
<li>
0x0100 = put fields in aligned columns </li>
<li>
0x0200 = show symbol and module offset when symbols are missing </li>
<li>
0x0400 = print unique module id </li>
<li>
0x0800 = show "file(line):" instead of "file:line"d </li>
<li>
0x1000 = expand template parameters (from "&lt;&gt;") for PDB symbols </li>
</ul>
</li>
</ul>
<ul>
<li><b> -callstack_truncate_below </b> &lt;string&gt; <br/>
<em>default: "main,wmain,WinMain,wWinMain,*RtlUserThreadStart,_threadstartex,BaseThreadInitThunk"</em> <br/>
Callstacks will be truncated at any frame that matches any of these ,-separated function names. The function names can contain * or ? wildcards.</li>
</ul>
<ul>
<li><b> -callstack_modname_hide </b> &lt;string&gt; <br/>
<em>default: "*drmemory*"</em> <br/>
Callstack frames will not list module names matching any of these ,-separated patterns. The names can contain * or ? wildcards. The module name will be displayed whenever the function name is uknown, however. The module name will only be hidden for error display purposes: it will still be included when considering suppressions, and it will be included in the generated suppression callstacks.</li>
</ul>
<ul>
<li><b> -callstack_exe_hide </b> <br/>
<em>default: true</em> <br/>
Callstack frames will not list the executable name. The executable name will be displayed whenever the function name is uknown, however. The executable name will only be hidden for error display purposes: it will still be included when considering suppressions, and it will be included in the generated suppression callstacks.</li>
</ul>
<ul>
<li><b> -callstack_srcfile_hide </b> &lt;string&gt; <br/>
<em>default: ""</em> <br/>
Callstack frames will not list source file paths matching any of these ,-separated patterns. The paths can contain * or ? wildcards.</li>
</ul>
<ul>
<li><b> -callstack_srcfile_prefix </b> &lt;string&gt; <br/>
<em>default: ""</em> <br/>
Callstack frame source paths that match any of these ,-separated prefixes will be printed without the leading portion up to and including the match.</li>
</ul>
<ul>
<li><b> -lib_blacklist </b> &lt;string&gt; <br/>
<em>default: ""</em> <br/>
Error reports whose top N frames' module paths match any of these ,-separated patterns will be separated by default as merely potential errors, where N is -lib_blacklist_frames. These errors are reported to potential_errors.txt rather than results.txt. This feature is disabled if -lib_blacklist_frames is 0. The -lib_whitelist takes priority over this blacklist: i.e., if any top frame matches the whitelist, the error will be reported normally, even if all frames also match the blacklist. Each pattern can use * and ? wildcards (which have the same semantics as in suppression files) and is matched against the full path of each module. The default on Windows is set to $SYSTEMROOT*.d?? if not otherwise specified.</li>
</ul>
<ul>
<li><b> -lib_blacklist_frames </b> &lt;int&gt; <br/>
<em>default: 4 (minimum: 0, maximum: 4096)</em> <br/>
The number of frames, starting from the top, that must match -lib_blacklist in a callstack in order for an error report to be separated from the regularly reported errors. Setting this value to 0 disables blacklist-based error separation. If the top frame is a system call or a replace_* Dr. Memory routine, it is ignored and matching starts from the second frame.</li>
</ul>
<ul>
<li><b> -lib_whitelist </b> &lt;string&gt; <br/>
<em>default: ""</em> <br/>
Error reports where not a single one of the top N frames' module paths match any of these ,-separated patterns will be separated by default as merely potential errors, where N is -lib_whitelist_frames. These errors are reported to potential_errors.txt rather than results.txt. This feature is disabled if -lib_whitelist_frames is 0 or if -lib_whitelist is empty. This whitelist takes priority over -lib_blacklist: i.e., if any top frame matches the whitelist, the error will be reported normally, even if all frames also match the blacklist. Each pattern can use * and ? wildcards (which have the same semantics as in suppression files) and is matched against the full path of each module.</li>
</ul>
<ul>
<li><b> -lib_whitelist_frames </b> &lt;int&gt; <br/>
<em>default: 4 (minimum: 0, maximum: 4096)</em> <br/>
The number of frames, starting from the top, that must not match -lib_whitelist in a callstack in order for an error report to be separated from the regularly reported errors. Setting this value to 0 disables -lib_whitelist-based error separation. If the top frame is a system call or a replace_* Dr. Memory routine, it is ignored and matching starts from the second frame.</li>
</ul>
<ul>
<li><b> -src_whitelist </b> &lt;string&gt; <br/>
<em>default: ""</em> <br/>
Error reports where not a single one of the top N frames' source file paths match any of these ,-separated patterns will be separated by default as merely potential errors, where N is -src_whitelist_frames. These errors are reported to potential_errors.txt rather than results.txt. This feature is disabled if -src_whitelist_frames is 0 or if -src_whitelist is empty. This whitelist takes priority over -lib_blacklist: i.e., if any top frame matches the whitelist, the error will be reported normally, even if all frames also match the blacklist. If combined with -lib_whitelist, the -lib_whitelist will perform its check first, followed by -src_whitelist. Each pattern can use * and ? wildcards (which have the same semantics as in suppression files) and is matched against the full path of each source file.</li>
</ul>
<ul>
<li><b> -src_whitelist_frames </b> &lt;int&gt; <br/>
<em>default: 4 (minimum: 0, maximum: 4096)</em> <br/>
The number of frames, starting from the top, that must not match -src_whitelist in a callstack in order for an error report to be separated from the regularly reported errors. Setting this value to 0 disables -src_whitelist-based error separation. If the top frame is a system call or a replace_* Dr. Memory routine, it is ignored and matching starts from the second frame.</li>
</ul>
<ul>
<li><b> -check_uninit_blacklist </b> &lt;string&gt; <br/>
<em>default: ""</em> <br/>
For each library or executable basename on this list, Dr. Memory suspends checking of uninitialized reads. Instead Dr. Memory marks all memory written by such modules as defined. This is a more efficient way to ignore all errors from a module than suppressing them or adding to the lib_blacklist option. Dr. Memory does automatically turn a whole-module suppression consisting of a single frame of the form 'modulename!*' into an entry on this list. The entries on this list can contain wildcards.</li>
</ul>
<ul>
<li><b> -callstack_use_top_fp </b> <br/>
<em>default: true</em> <br/>
Whether to trust the top-level ebp/rbp register to hold the next frame pointer. If enabled, overridden when -callstack_use_top_fp_selectively is enabled. Normally trusting the register is correct. However, if a frameless function is on top of the stack, using the ebp register can cause a callstack to skip the next function. If this option is set to false, the callstack walk will perform a stack scan at the top of every callstack. This adds additional overhead in exchange for more accuracy, although in -light mode the additional accuracy has some tradeoffs and can result in incorrect frames. It should not be necessary to disable this option normally, unless an application or one of its static libraries is built with optimizations that omit frame pointers.</li>
</ul>
<ul>
<li><b> -callstack_use_top_fp_selectively </b> <br/>
<em>default: true</em> <br/>
Whether to trust the top-level ebp/rbp register to hold the next frame pointer in certain situations. When enabled, this overrides -callstack_use_top_fp if it is enabled; but if -callstack_use_top_fp is disabled then the top fp is never used. When this option is enabled, in full or -leaks_only modes then the top fp is not used for all non-leak errors, while in -light mode the top fp is only not used for non-leak errors where the top frame is in an application module. See the -callstack_use_top_fp option for further information about the top frame pointer.</li>
</ul>
<ul>
<li><b> -callstack_use_fp </b> <br/>
<em>default: true</em> <br/>
Whether to use frame pointers at all. The -callstack_use_top_fp and -callstack_use_top_fp_selectively options control whether to use the top frame pointer. This option controls whether to continue walking the frame pointer chain. Turning this off may be necessary if a mixture of frame pointer optimized code and un-optimized code is in use in the application, to avoid skipping interior callstack frames.</li>
</ul>
<ul>
<li><b> -callstack_conservative </b> <br/>
<em>default: false</em> <br/>
By default, callstack walking is tuned for performance. It is possible to miss some frames when application code is optimized. Enabling this option causes extra checks to be performed to attempt to create more accurate callstacks. These checks add extra overhead.</li>
</ul>
<ul>
<li><b> -callstack_max_scan </b> &lt;int&gt; <br/>
<em>default: 2048 (minimum: 0, maximum: 16384)</em> <br/>
How far to scan to locate the first stack frame when starting in a frameless function, or to locate the next stack frame when crossing loader or glue stub thunks or a signal or exception frame. Increasing this can produce better callstacks but may incur noticeable overhead for applications that make many allocation calls.</li>
</ul>
<ul>
<li><b> -callstack_bad_fp_list </b> &lt;string&gt; <br/>
<em>default: ""</em> <br/>
When walking frame pointers and transitioning from any module on this list to a frame not in the same module, the frame pointer chain is assumed to be suspect and a stack scan is performed. Use this option to avoid missing frames in your application's code that are skipped due to frame pointer optimizations in other libraries.</li>
</ul>
<ul>
<li><b> -check_leaks </b> <br/>
<em>default: true</em> <br/>
Whether to list details of each individual memory leak. If this option is disabled and -count_leaks is enabled, leaks will still be detected, but only the count of leaks will be shown.</li>
</ul>
<ul>
<li><b> -count_leaks </b> <br/>
<em>default: true</em> <br/>
Whether to detect memory leaks. Whether details on each leak are shown is controlled by the -check_leaks option. Disabling this option can reduce execution overhead as less information must be kept internally, while disabling -check_leaks will not affect execution overhead.</li>
</ul>
<ul>
<li><b> -symbol_offsets </b> <br/>
<em>default: false</em> <br/>
Deprecated: use -callstack_style flag 0x4</li>
</ul>
<ul>
<li><b> -ignore_early_leaks </b> <br/>
<em>default: true</em> <br/>
Whether to ignore leaks from memory allocated by system code prior to Dr. Memory taking over.</li>
</ul>
<ul>
<li><b> -check_leaks_on_destroy </b> <br/>
<em>default: true</em> <br/>
If enabled, when a heap is destroyed (HeapDestroy on Windows), report any live allocations inside it as possible leaks.</li>
</ul>
<ul>
<li><b> -possible_leaks </b> <br/>
<em>default: true</em> <br/>
Whether to list possibly-reachable allocations when leak checking. Requires -check_leaks.</li>
</ul>
<ul>
<li><b> -check_encoded_pointers </b> <br/>
<em>default: true</em> <br/>
Check for encoded pointers to eliminate false positives from pointers kept in encoded form.</li>
</ul>
<ul>
<li><b> -midchunk_size_ok </b> <br/>
<em>default: true</em> <br/>
Consider allocations reached by a mid-allocation pointer that points past a size field at the head of the allocation to be reachable instead of possibly leaked. Currently this option looks for a very specific pattern. If your application's header is slightly different please contact the authors about generalizing this check.</li>
</ul>
<ul>
<li><b> -midchunk_new_ok </b> <br/>
<em>default: true</em> <br/>
Consider allocations reached by a mid-allocation pointer that points past a size field at the head of the allocation that looks like a new[] header to be reachable instead of possibly leaked. A heuristic is used for this identification that is not perfect.</li>
</ul>
<ul>
<li><b> -midchunk_inheritance_ok </b> <br/>
<em>default: true</em> <br/>
Consider allocations reached by a mid-allocation pointer that points to a parent class instantiation to be reachable instead of possibly leaked. A heuristic is used for this identification that is not perfect.</li>
</ul>
<ul>
<li><b> -midchunk_string_ok </b> <br/>
<em>default: true</em> <br/>
Consider allocations reached by a mid-allocation pointer that points to a char array inside an instance of a std::string representation to be reachable instead of possibly leaked. A heuristic is used for this identification that is not perfect.</li>
</ul>
<ul>
<li><b> -scan_read_only_files </b> <br/>
<em>default: false</em> <br/>
Whether the leak scan should scan read-only file-mapped memory when looking for pointers to the heap. The leak scan does not track whether pages have been read-only since they were mapped, so it's possible for the application to store heap pointers in a file-mapped region and then mark it read-only. If your application does so, you may want to turn on this option.</li>
</ul>
<ul>
<li><b> -strings_vs_pointers </b> <br/>
<em>default: true</em> <br/>
Use heuristics to rule out sub-strings as leak scan pointers, preventing strings from anchoring heap objects and resulting in false negatives.</li>
</ul>
<ul>
<li><b> -show_reachable </b> <br/>
<em>default: false</em> <br/>
Whether to list reachable allocations when leak checking. Requires -check_leaks.</li>
</ul>
<ul>
<li><b> -suppress </b> &lt;string&gt; <br/>
<em>default: ""</em> <br/>
File containing errors to suppress. May be repeated. See <a class="el" href="page_suppress.html">Suppressing Errors</a>.</li>
</ul>
<ul>
<li><b> -default_suppress </b> <br/>
<em>default: true</em> <br/>
Use the set of default suppressions that come with Dr. Memory. See <a class="el" href="page_suppress.html">Suppressing Errors</a>.</li>
</ul>
<ul>
<li><b> -gen_suppress_offs </b> <br/>
<em>default: true</em> <br/>
Generate mod+offs suppressions in addition to mod!sym suppressions in the output suppress file</li>
</ul>
<ul>
<li><b> -gen_suppress_syms </b> <br/>
<em>default: true</em> <br/>
Generate mod!syms suppressions in addition to mod+offs suppressions in the output suppress file</li>
</ul>
<ul>
<li><b> -show_threads </b> <br/>
<em>default: true</em> <br/>
Whether to print the callstack of each thread creation point referenced in an error report to the global logfile, which can be useful to identify which thread was involved in the error report. Look for 'NEW THREAD' in the global.pid.log file in the log directory where the results.txt file is found.</li>
</ul>
<ul>
<li><b> -show_all_threads </b> <br/>
<em>default: false</em> <br/>
Whether to print the callstack of each thread creation point (whether referenced in an error report or not) to the global logfile. This can be useful to identify which thread was involved in error reports, as well as general diagnostics for what threads were present during a run. Look for 'NEW THREAD' in the global.pid.log file in the log directory where the results.txt file is found.</li>
</ul>
<ul>
<li><b> -conservative </b> <br/>
<em>default: false</em> <br/>
Be conservative whenever reading application memory. When this option is disabled, Dr. Memory may read return addresses and arguments passed to functions without fault-handling code, which gains performance but can sacrifice robustness when running hand-crafted assembly code</li>
</ul>
<ul>
<li><b> -check_uninit_cmps </b> <br/>
<em>default: true</em> <br/>
Report definedness errors on compares instead of waiting for conditional jmps.</li>
</ul>
<ul>
<li><b> -check_uninit_non_moves </b> <br/>
<em>default: false</em> <br/>
Report definedness errors on any instruction that is not a move. Note: turning this option on may result in false positives, but can also help diagnose errors through earlier error reporting.</li>
</ul>
<ul>
<li><b> -check_uninit_all </b> <br/>
<em>default: false</em> <br/>
Report definedness errors on any instruction, rather than the default of waiting until something meaningful is done, which reduces false positives. Note: turning this option on may result in false positives, but can also help diagnose errors through earlier error reporting.</li>
</ul>
<ul>
<li><b> -strict_bitops </b> <br/>
<em>default: false</em> <br/>
Currently, Dr. Memory's definedness granularity is per-byte. This can lead to false positives on code that uses bitfields. By default, Dr. Memory relaxes its uninitialized checking on certain bit operations that are typically only used with bitfields, to avoid these false positives. However, this can lead to false negatives. Turning this option on will eliminate all false negatives (at the cost of potential false positives). Eventually Dr. Memory will have bit-level granularity and this option will go away.</li>
</ul>
<ul>
<li><b> -stack_swap_threshold </b> &lt;int&gt; <br/>
<em>default: 0x9000 (minimum: 256, maximum: INT_MAX)</em> <br/>
Stack change amount to consider a swap instead of an allocation or de-allocation on the same stack. Dr. Memory attempts to dynamically tune this value unless it is changed from its default.</li>
</ul>
<ul>
<li><b> -redzone_size </b> &lt;int&gt; <br/>
<em>default: 16 (minimum: 0, maximum: 32*1024)</em> <br/>
Buffer on either side of each malloc. This should be a multiple of 8.</li>
</ul>
<ul>
<li><b> -report_max </b> &lt;int&gt; <br/>
<em>default: 20000 (minimum: -1, maximum: INT_MAX)</em> <br/>
Maximum non-leak errors to report (-1=no limit). This includes 'potential' errors listed separately.</li>
</ul>
<ul>
<li><b> -report_leak_max </b> &lt;int&gt; <br/>
<em>default: 10000 (minimum: -1, maximum: INT_MAX)</em> <br/>
Maximum leaks to report (-1=no limit). This includes 'potential' leaks listed separately.</li>
</ul>
<ul>
<li><b> -report_write_to_read_only </b> <br/>
<em>default: true</em> <br/>
Report writes to read-only memory as unaddressable errors.</li>
</ul>
<ul>
<li><b> -show_duplicates </b> <br/>
<em>default: false</em> <br/>
Print details on each duplicate error rather than only showing unique error details</li>
</ul>
<ul>
<li><b> -batch </b> <br/>
<em>default: false</em> <br/>
Do not launch notepad with the results file at application exit.</li>
</ul>
<ul>
<li><b> -summary </b> <br/>
<em>default: true</em> <br/>
Display process startup information and a summary of errors to stderr at app exit.</li>
</ul>
<ul>
<li><b> -use_symcache </b> <br/>
<em>default: true</em> <br/>
Cache results of symbol lookups to speed up future runs</li>
</ul>
<ul>
<li><b> -symcache_dir </b> &lt;string&gt; <br/>
<em>default: "&lt;install&gt;/logs/symcache"</em> <br/>
Destination for symbol cache files. When using a unique log directory for each run, symbols will not be shared across runs because the default cache location is inside the log directory. Use this option to set a shared directory.</li>
</ul>
<ul>
<li><b> -symcache_minsize </b> &lt;int&gt; <br/>
<em>default: 1000 (minimum: 0, maximum: UINT_MAX)</em> <br/>
Minimum module size to cache symbols for. Note that there's little downside to caching and it is pretty much always better to cache.</li>
</ul>
<ul>
<li><b> -use_symcache_postcall </b> <br/>
<em>default: true</em> <br/>
Cache post-call sites to speed up future runs. Requires -use_symcache to be true.</li>
</ul>
<ul>
<li><b> -preload_symbols </b> <br/>
<em>default: false</em> <br/>
Preload debug symbols on module load. Debug symbols cannot be loaded during leak reporting on Vista, so this option is on by default on Vista. This option may cause excess memory usage from unneeded debugging symbols.</li>
</ul>
<ul>
<li><b> -skip_msvc_importers </b> <br/>
<em>default: true</em> <br/>
Do not search for alloc routines in modules that import from msvc*</li>
</ul>
<ul>
<li><b> -warn_null_ptr </b> <br/>
<em>default: false</em> <br/>
Whether to warn when NULL is passed to free() or realloc().</li>
</ul>
<ul>
<li><b> -delay_frees </b> &lt;int&gt; <br/>
<em>default: 2000 (minimum: 0, maximum: UINT_MAX)</em> <br/>
Frees to delay before committing. The larger this number, the greater the likelihood that Dr. Memory will identify use-after-free errors. However, the larger this number, the more memory will be used. This value is separate for each set of allocation routines and each Windows Heap.</li>
</ul>
<ul>
<li><b> -delay_frees_maxsz </b> &lt;int&gt; <br/>
<em>default: 20000000 (minimum: 0, maximum: UINT_MAX)</em> <br/>
Maximum size of frees to delay before committing. The larger this number, the greater the likelihood that Dr. Memory will identify use-after-free errors. However, the larger this number, the more memory will be used. This value is separate for each set of allocation routines and each Windows Heap.</li>
</ul>
<ul>
<li><b> -delay_frees_stack </b> <br/>
<em>default: true</em> <br/>
Record callstacks on free to use when reporting use-after-free or other errors that overlap with freed objects. There is a slight performance hit incurred by this feature for malloc-intensive applications. The callstack size is controlled by -free_max_frames.</li>
</ul>
<ul>
<li><b> -leaks_only </b> <br/>
<em>default: false</em> <br/>
Puts Dr. Memory into a leak-check-only mode that has lower overhead but does not detect other types of errors other than invalid frees.</li>
</ul>
<ul>
<li><b> -handle_leaks_only </b> <br/>
<em>default: false</em> <br/>
Puts Dr. Memory into a handle-leak-check-only mode that has lower overhead but does not detect other types of errors other than handle leaks in Windows.</li>
</ul>
<ul>
<li><b> -check_uninitialized </b> <br/>
<em>default: IF_X64_ELSE(false, true)</em> <br/>
Check for uninitialized read errors. When disabled, puts Dr. Memory into a mode that has lower overhead but does not detect definedness errors. Furthermore, the lack of definedness information reduces accuracy of leak identification, resulting in potentially failing to identify some leaks.</li>
</ul>
<ul>
<li><b> -check_stack_bounds </b> <br/>
<em>default: false</em> <br/>
Only applies for -no_check_uninitialized. Determines whether to check for beyond-top-of-stack accesses.</li>
</ul>
<ul>
<li><b> -check_stack_access </b> <br/>
<em>default: false</em> <br/>
Only applies for -no_check_uninitialized. Determines whether to check for errors on memory references that use esp or ebp as a base. These are normally local variable and function parameter references only, but for optimized or unusual code they could point elsewhere in memory. Checking these incurs additional overhead.</li>
</ul>
<ul>
<li><b> -check_alignment </b> <br/>
<em>default: false</em> <br/>
Only applies for -no_check_uninitialized. Determines whether to incur additional overhead in order to handle memory accesses that are not aligned to their size. With this option off, the tool may miss bounds overflows that involve unaligned memory references.</li>
</ul>
<ul>
<li><b> -fault_to_slowpath </b> <br/>
<em>default: true</em> <br/>
Only applies for -no_check_uninitialized. Determines whether to use faulting instructions rather than explicit jump-and-link to exit from fastpath to slowpath.</li>
</ul>
<ul>
<li><b> -check_gdi </b> <br/>
<em>default: true</em> <br/>
Check for GDI API usage errors. Any errors detected will be reported as errors of type GDI USAGE ERROR.</li>
</ul>
<ul>
<li><b> -check_gdi_multithread </b> <br/>
<em>default: false</em> <br/>
Check for GDI API usage error of one DC used by multiple threads. Some system libraries violate this guideline, however, resulting in potential false positives.</li>
</ul>
<ul>
<li><b> -check_handle_leaks </b> <br/>
<em>default: true</em> <br/>
Check for handle leak errors. Any errors detected will be reported as errors of type HANDLE LEAK. This is currently an experimental option and is very conservative, placing any error it is not sure about in potential_errors.txt rather than reporting in the main set of errors found.</li>
</ul>
<ul>
<li><b> -check_heap_mismatch </b> <br/>
<em>default: true</em> <br/>
Whether to check for Windows API vs C library mismatches</li>
</ul>
<ul>
<li><b> -check_delete_mismatch </b> <br/>
<em>default: true</em> <br/>
Whether to check for free/delete/delete[] mismatches</li>
</ul>
<ul>
<li><b> -check_prefetch </b> <br/>
<em>default: true</em> <br/>
Whether to report unaddressable prefetches as warnings</li>
</ul>
<ul>
<li><b> -prctl_whitelist </b> &lt;string&gt; <br/>
<em>default: ""</em> <br/>
If this list is non-empty, when Dr. Memory sees prctl(PR_SET_NAME) and the name is not on the list, then Dr. Memory will disable its instrumentation for the rest of the process and for all of its child processes. The list is ,-separated.</li>
</ul>
<ul>
<li><b> -auxlib </b> &lt;string&gt; <br/>
<em>default: ""</em> <br/>
This option should specify the basename of an auxiliary system call handling library found in the same directory as the Dr. Memory client library.</li>
</ul>
<ul>
<li><b> -analyze_unknown_syscalls </b> <br/>
<em>default: true</em> <br/>
For unknown syscalls use memory comparison to find output params</li>
</ul>
<ul>
<li><b> -syscall_dword_granularity </b> <br/>
<em>default: true</em> <br/>
For unknown syscall comparisons (-analyze_unknown_syscalls), when changes are detected, consider the containing dword to have changed</li>
</ul>
<ul>
<li><b> -syscall_sentinels </b> <br/>
<em>default: false</em> <br/>
Use sentinels to detect writes on unknown syscalls and reduce false positives, in particular for uninitialized reads. Can potentially result in incorrect behavior if definedness information is incorrect or application threads read syscall parameter info simultaneously. This option requires -analyze_unknown_syscalls to be enabled.</li>
</ul>
<ul>
<li><b> -prefer_msize </b> <br/>
<em>default: true</em> <br/>
Prefer _msize to malloc_usable_size when both are present</li>
</ul>
<ul>
<li><b> -perturb </b> <br/>
<em>default: false</em> <br/>
Adds random delays to thread synchronization and other operations to try and increase the chances of catching race conditions.</li>
</ul>
<ul>
<li><b> -perturb_only </b> <br/>
<em>default: false</em> <br/>
Adds random delays to thread synchronization and other operations to try and increase the chances of catching race conditions, but disables all memory checking to create a low-overhead tool that executes significantly faster. However, without memory checking race conditions will only be detected if they result in an actual crash or other externally visible change in behavior. When this option is enabled, Dr. Memory will not produce an error summary or results.txt.</li>
</ul>
<ul>
<li><b> -perturb_max </b> &lt;int&gt; <br/>
<em>default: 50 (minimum: 0, maximum: UINT_MAX)</em> <br/>
This option sets the maximum delay added by -perturb, in milliseconds for thread operations and in custom units for instruction-level operations. Delays added will be randomly selected from 0 up to -perturb_max.</li>
</ul>
<ul>
<li><b> -perturb_seed </b> &lt;int&gt; <br/>
<em>default: 0 (minimum: 0, maximum: UINT_MAX)</em> <br/>
To reproduce the random delays added by -perturb, pass the seed from the logfile from the target run to this option. There may still be non-determinism in the rest of the system, however.</li>
</ul>
<ul>
<li><b> -unaddr_only </b> <br/>
<em>default: false</em> <br/>
This option enables a lightweight mode that only detects critical errors of unaddressable accesses on heap data. This option cannot be used with 'light' or 'check_uninitialized'.</li>
</ul>
<ul>
<li><b> -pattern </b> &lt;int&gt; <br/>
<em>default: 0 (minimum: 0, maximum: USHRT_MAX)</em> <br/>
Use sentinels to detect accesses on unaddressable regions around allocated heap objects. When this option is enabled, checks for uninitialized read errors will be disabled.</li>
</ul>
<ul>
<li><b> -persist_code </b> <br/>
<em>default: false</em> <br/>
Cache instrumented code to speed up future runs. For short-running applications, this can provide a performance boost. It may not be worth enabling for long-running applications. Currently, this option is only supported with -light or -no_check_uninitialized. It also currently fails to re-use randomized libraries on Windows, resulting in less of a performance boost for applications that use many libraries with ASLR enabled.</li>
</ul>
<ul>
<li><b> -persist_dir </b> &lt;string&gt; <br/>
<em>default: "&lt;install&gt;/logs/codecache"</em> <br/>
Destination for code cache files. When using a unique log directory for each run, symbols will not be shared across runs because the default cache location is inside the log directory. Use this option to set a shared directory.</li>
</ul>
<ul>
<li><b> -soft_kills </b> <br/>
<em>default: true</em> <br/>
Ensure external processes terminated by this one exit cleanly. Often applications forcibly terminate child processes, which can prevent proper leak checking and error and suppression summarization as well as generation of symbol and code cache files needed for performance. When this option is enabled, every termination call to another process will be replaced with a directive to the Dr. Memory running in that process to perform a clean shutdown. If there is no DynamoRIO-based tool in the target process, the regular termination call will be carried out.</li>
</ul>
<ul>
<li><b> -fuzz_target </b> &lt;string&gt; <br/>
<em>default: ""</em> <br/>
Fuzz test the target program according to the specified descriptor, which should have the format:<pre>&#160;&#160;&#160;&#160;<code>&lt;target&gt;|&lt;arg-count&gt;|&lt;buffer-index&gt;|&lt;size-index&gt;|&lt;repeat-count&gt;[|&lt;calling-convention&gt;]</code></pre>where <code>&lt;target&gt;</code> has one of two formats:<pre>&#160;&#160;&#160;&#160;<code>&lt;module&gt;!&lt;symbol&gt;</code>
&#160;&#160;&#160;&#160;<code>&lt;module&gt;+&lt;offset&gt;</code></pre>Here, <code>&lt;module&gt;</code> refers to a single binary image file such as a library (.so or .dll) or an application executable (.exe on Windows). The <code>&lt;offset&gt;</code> specifies the entry point of the target function as a hexadecimal offset (e.g. '0xf7d4') from the start of the module that contains it (i.e., the library or executable image). The <code>&lt;symbol&gt;</code> may be either a plain C function name, a mangled C++ symbol, or (Windows only) a de-mangled C++ symbol of the form returned by the <a class="el" href="page_symquery.html">Symbol Query Tool</a>. The option <code>-fuzz_mangled_names</code> is required for using mangled names in Windows, and the mangled name must have every '@' character escaped by substituting a '-' in its place. The module alias &lt;main&gt; may be used to refer to the main module of the process, which is the program executable.<br/>
<br/>
The &lt;arg-count&gt; specifies the number of arguments to the function (for vararg functions this must match the actual number of arguments passed by the app). The &lt;*-index&gt; arguments specify the index of the corresponding parameter in the target function. The &lt;repeat-count&gt; indicates the number of times to repeat the target function (use 0 to repeat until the mutator is exhuasted). The optional &lt;calling-convention&gt; can be specified using one of the following codes:<pre>&#160;&#160;&#160;&#160;<code>1 = AMD64</code>
&#160;&#160;&#160;&#160;<code>2 = Microsoft x64 (Visual Studio)</code>
&#160;&#160;&#160;&#160;<code>3 = ARM</code>
&#160;&#160;&#160;&#160;<code>4 = cdecl or stdcall</code>
&#160;&#160;&#160;&#160;<code>5 = fastcall</code>
&#160;&#160;&#160;&#160;<code>6 = thiscall</code></pre></li>
</ul>
<ul>
<li><b> -fuzz_mutator </b> &lt;string&gt; <br/>
<em>default: ""</em> <br/>
Configure the input mutator of the fuzz tester according to the specified descriptor, which should have the format:<pre>&#160;&#160;&#160;&#160;<code>&lt;algorithm&gt;|&lt;unit&gt;|&lt;flags&gt;|&lt;sparsity&gt;[|&lt;random_seed&gt;]</code></pre>where <code>&lt;algorithm&gt;</code> is one of the drfuzz_mutator_algorithm_t:<pre>&#160;&#160;&#160;&#160;<code>r = random selection of bits or numbers (MUTATOR_ALG_RANDOM)</code>
&#160;&#160;&#160;&#160;<code>o = ordered sequence of bits or numbers (MUTATOR_ALG_ORDERED)</code></pre>and <code>&lt;unit&gt;</code> is one of the drfuzz_mutator_unit_t:<pre>&#160;&#160;&#160;&#160;<code>b = mutation by bit flipping (MUTATOR_UNIT_BITS)</code>
&#160;&#160;&#160;&#160;<code>n = mutation by random number generation (MUTATOR_UNIT_NUM)</code></pre>and <code>&lt;flags&gt;</code> are any combination of:<pre>&#160;&#160;&#160;&#160;<code>r = reset to the original buffer value passed by the app before each mutation</code>
&#160;&#160;&#160;&#160;<code>t = seed the mutator's random number generator with the current clock time (drfuzz_mutator_options_t.random_seed)</code></pre>and the <code>&lt;sparsity&gt;</code> is an integer specifying a number of values to skip between mutations (<code>drfuzz_mutator_options_t.sparsity</code>). See <a class="el" href="page_fuzzer.html">Fuzz Testing Mode</a> for more detailed information.</li>
</ul>
<ul>
<li><b> -fuzz_one_input </b> &lt;string&gt; <br/>
<em>default: ""</em> <br/>
Specify one fuzz input value to test. The value is a hexadecimal byte sequence using the printed byte order (i.e., non-endian), for example '7f392a' represents byte array { 0x7f, 0x39, 0x2a }.</li>
</ul>
<ul>
<li><b> -fuzz_mangled_names </b> <br/>
<em>default: false</em> <br/>
By default, fuzz targets on Windows must use demangled names. Use this option to enabled mangled names. It is required to escape every '@' character by replacing it with a '-' in the mangled name (due to delimiter conflicts over '@' in the toolchain). </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer" style="float:none;text-align:center"><img border=0 src="favicon.png"> &nbsp;  Dr. Memory version 1.9.0 --- Mon Oct 5 2015 18:31:40 &nbsp; <img border=0 src="favicon.png">
</small></address>
<!--END !GENERATE_TREEVIEW-->
</body>
</html>
